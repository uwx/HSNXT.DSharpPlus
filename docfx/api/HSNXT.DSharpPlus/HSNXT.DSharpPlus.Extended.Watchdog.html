<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class Watchdog
   </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class Watchdog
   ">
    <meta name="generator" content="docfx 2.54.0.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items"></div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="HSNXT.DSharpPlus.Extended.Watchdog">
  
  
  <h1 id="HSNXT_DSharpPlus_Extended_Watchdog" data-uid="HSNXT.DSharpPlus.Extended.Watchdog" class="text-break">Class Watchdog
  </h1>
  <div class="markdown level0 summary"><p>A watchdog timer to detect deadlocks in threads.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object">Object</a></div>
    <div class="level1"><span class="xref">Watchdog</span></div>
  </div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.equals#System_Object_Equals_System_Object_">Object.Equals(Object)</a>
    </div>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.equals#System_Object_Equals_System_Object_System_Object_">Object.Equals(Object, Object)</a>
    </div>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.gethashcode#System_Object_GetHashCode">Object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.gettype#System_Object_GetType">Object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.memberwiseclone#System_Object_MemberwiseClone">Object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.referenceequals#System_Object_ReferenceEquals_System_Object_System_Object_">Object.ReferenceEquals(Object, Object)</a>
    </div>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.tostring#System_Object_ToString">Object.ToString()</a>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="HSNXT.DSharpPlus.Extended.html">HSNXT.DSharpPlus.Extended</a></h6>
  <h6><strong>Assembly</strong>: HSNXT.DSharpPlus.Extended.dll</h6>
  <h5 id="HSNXT_DSharpPlus_Extended_Watchdog_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class Watchdog : IDisposable</code></pre>
  </div>
  <h3 id="constructors">Constructors
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/uwx/HSNXT.DSharpPlus/new/master/apiSpec/new?filename=HSNXT_DSharpPlus_Extended_Watchdog__ctor_HSNXT_DSharpPlus_Extended_Watchdog_DeadlockHandler_System_Nullable_System_TimeSpan__System_Action_System_String__.md&amp;value=---%0Auid%3A%20HSNXT.DSharpPlus.Extended.Watchdog.%23ctor(HSNXT.DSharpPlus.Extended.Watchdog.DeadlockHandler%2CSystem.Nullable%7BSystem.TimeSpan%7D%2CSystem.Action%7BSystem.String%7D)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/uwx/HSNXT.DSharpPlus/blob/master/HSNXT.DSharpPlus.Extended/Watchdog.cs/#L77">View Source</a>
  </span>
  <a id="HSNXT_DSharpPlus_Extended_Watchdog__ctor_" data-uid="HSNXT.DSharpPlus.Extended.Watchdog.#ctor*"></a>
  <h4 id="HSNXT_DSharpPlus_Extended_Watchdog__ctor_HSNXT_DSharpPlus_Extended_Watchdog_DeadlockHandler_System_Nullable_System_TimeSpan__System_Action_System_String__" data-uid="HSNXT.DSharpPlus.Extended.Watchdog.#ctor(HSNXT.DSharpPlus.Extended.Watchdog.DeadlockHandler,System.Nullable{System.TimeSpan},System.Action{System.String})">Watchdog(Watchdog.DeadlockHandler, Nullable&lt;TimeSpan&gt;, Action&lt;String&gt;)</h4>
  <div class="markdown level1 summary"><p>Creates a watchdog and begins its thread. The watchdog will periodically scan for handles to it that have
taken too long to be disposed, and invokes the handler for any that are found. You can usually assume that
there is either a deadlock in that thread or a long-running operation that perhaps should be moved to a new
thread.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Watchdog(Watchdog.DeadlockHandler deadlockHandler, TimeSpan? watchdogTimeout = default(TimeSpan? ), Action&lt;string&gt; log = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="HSNXT.DSharpPlus.Extended.Watchdog.DeadlockHandler.html">Watchdog.DeadlockHandler</a></td>
        <td><span class="parametername">deadlockHandler</span></td>
        <td><p>Delegate to be called when a thread spends longer than <code data-dev-comment-type="paramref" class="paramref">watchdogTimeout</code> while holding a
handle acquired with <a class="xref" href="HSNXT.DSharpPlus.Extended.Watchdog.html#HSNXT_DSharpPlus_Extended_Watchdog_AcquireHandle_System_Object_System_String_">AcquireHandle(Object, String)</a></p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.nullable-1">Nullable</a>&lt;<a class="xref" href="https://docs.microsoft.com/dotnet/api/system.timespan">TimeSpan</a>&gt;</td>
        <td><span class="parametername">watchdogTimeout</span></td>
        <td><p>Timeout until a thread is considered to be stuck. Note that the actual time until the watchdog thread
catches up may be up to twice the length of time set in this parameter. Defaults to 10 seconds.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.action-1">Action</a>&lt;<a class="xref" href="https://docs.microsoft.com/dotnet/api/system.string">String</a>&gt;</td>
        <td><span class="parametername">log</span></td>
        <td><p>An optional function to be called whenever the watchdog emits debug information. This usually does not need
to be specified unless you are testing the watchdog itself.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="HSNXT_DSharpPlus_Extended_Watchdog__ctor_HSNXT_DSharpPlus_Extended_Watchdog_DeadlockHandler_System_Nullable_System_TimeSpan__System_Action_System_String___remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>To help diagnose a deadlock, try using the &quot;break all&quot; feature in your debugger.</p></div>
  <h3 id="methods">Methods
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/uwx/HSNXT.DSharpPlus/new/master/apiSpec/new?filename=HSNXT_DSharpPlus_Extended_Watchdog_AcquireHandle_System_Object_System_String_.md&amp;value=---%0Auid%3A%20HSNXT.DSharpPlus.Extended.Watchdog.AcquireHandle(System.Object%2CSystem.String)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/uwx/HSNXT.DSharpPlus/blob/master/HSNXT.DSharpPlus.Extended/Watchdog.cs/#L107">View Source</a>
  </span>
  <a id="HSNXT_DSharpPlus_Extended_Watchdog_AcquireHandle_" data-uid="HSNXT.DSharpPlus.Extended.Watchdog.AcquireHandle*"></a>
  <h4 id="HSNXT_DSharpPlus_Extended_Watchdog_AcquireHandle_System_Object_System_String_" data-uid="HSNXT.DSharpPlus.Extended.Watchdog.AcquireHandle(System.Object,System.String)">AcquireHandle(Object, String)</h4>
  <div class="markdown level1 summary"><p>Gives the current thread a handle to this watchdog. No more than a single handle may be kept per thread.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public IDisposable AcquireHandle(object handleSrc, string reason)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object">Object</a></td>
        <td><span class="parametername">handleSrc</span></td>
        <td><p>An object to attach to the handle that can be retrieved in case of a deadlock.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.string">String</a></td>
        <td><span class="parametername">reason</span></td>
        <td><p>A short reason string to attach to the handle that can be retrieved in case of a deadlock. It should by
convention describe the application that is requesting the handle, but any string can be used. </p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.idisposable">IDisposable</a></td>
        <td><p>A disposable object that releases the handle when disposed</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="HSNXT_DSharpPlus_Extended_Watchdog_AcquireHandle_System_Object_System_String__examples">Examples</h5>
  <pre><code>using (watchdog.AcquireHandle())
{
    // perform operations
}</code></pre>

  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/uwx/HSNXT.DSharpPlus/new/master/apiSpec/new?filename=HSNXT_DSharpPlus_Extended_Watchdog_Dispose.md&amp;value=---%0Auid%3A%20HSNXT.DSharpPlus.Extended.Watchdog.Dispose%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/uwx/HSNXT.DSharpPlus/blob/master/HSNXT.DSharpPlus.Extended/Watchdog.cs/#L165">View Source</a>
  </span>
  <a id="HSNXT_DSharpPlus_Extended_Watchdog_Dispose_" data-uid="HSNXT.DSharpPlus.Extended.Watchdog.Dispose*"></a>
  <h4 id="HSNXT_DSharpPlus_Extended_Watchdog_Dispose" data-uid="HSNXT.DSharpPlus.Extended.Watchdog.Dispose">Dispose()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Dispose()</code></pre>
  </div>
  <h5 class="implements">Implements</h5>
      <div><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.idisposable.dispose#System_IDisposable_Dispose">IDisposable.Dispose()</a></div>

</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/uwx/HSNXT.DSharpPlus/new/master/apiSpec/new?filename=HSNXT_DSharpPlus_Extended_Watchdog.md&amp;value=---%0Auid%3A%20HSNXT.DSharpPlus.Extended.Watchdog%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Improve this Doc</a>
                  </li>
                  <li>
                    <a href="https://github.com/uwx/HSNXT.DSharpPlus/blob/master/HSNXT.DSharpPlus.Extended/Watchdog.cs/#L10" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            © 2017-2019 uwx. DSharpPlus is copyright © 2017-2019 DSharpPlus development team. uwx's DSharpPlus Extensions is not supported or endorsed by the DSharpPlus development team.
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
