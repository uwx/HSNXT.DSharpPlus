{"Name":"EnsureFileNameIsUnique","Description":"Ensures given file name will return a unique file name, using the format Filename - Copy, or Filename - Copy (n) where n > 1","Author":"John Cornell","SubmittedOn":"6/5/2014 12:59:02 AM","Entries":["public static string EnsureFileNameIsUnique(this string intendedName)\r\n{\r\n    if (!File.Exists(intendedName)) return intendedName;\r\n\r\n    FileInfo file = new FileInfo(intendedName);\r\n    string extension = file.Extension;\r\n    string basePath = intendedName.Substring(0, intendedName.Length - extension.Length);\r\n\r\n    int counter = 1;\r\n\r\n    string newPath = \"\";\r\n\r\n    do\r\n    {\r\n        newPath = string.Format(\"{0} - Copy{1}{2}\", basePath, counter == 1 ? \"\" : string.Format(\" ({0})\", counter), extension);\r\n\r\n        counter += 1;\r\n    }\r\n    while (File.Exists(newPath));\r\n\r\n    return newPath;\r\n}","//Move file to new location\r\nstring fileToMove = @\"C:/myfiletomove.txt\";\r\nstring newLocation = Path.Combine(directoryName, fileName);\r\n\r\n//Ensure if File Exists, then File.Move will use a unique name\r\n//In the Windows \"FileName - Copy [(#)]\" format\r\nFile.Move(fileToMove, newLocation.EnsureFileNameIsUnique());"]}