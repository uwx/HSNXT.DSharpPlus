{"Name":"CopyTo","Description":"Copies a stream to another stream using a passed buffer. it also has an overload to pass a buffer length.","Author":"Maziar Rezaei","SubmittedOn":"5/15/2011 11:09:36 AM","Entries":["/// <summary>\r\n        /// Copies an stream to another stream using the buffer passed.\r\n        /// </summary>\r\n        /// <param name=\"source\">source stream</param>\r\n        /// <param name=\"destination\">destination stream</param>\r\n        /// <param name=\"buffer\">buffer to use during copy</param>\r\n        /// <returns>number of bytes copied</returns>\r\n        public static long CopyTo(this Stream source, Stream destination, byte[] buffer)\r\n        {\r\n            long total=0;\r\n            int bytesRead;\r\n            while (true)\r\n            {\r\n                bytesRead = source.Read(buffer, 0, buffer.Length);\r\n                if (bytesRead == 0)\r\n                    return total;\r\n                total += bytesRead;\r\n                destination.Write(buffer, 0, bytesRead);\r\n            }\r\n        }\r\n        /// <summary>\r\n        /// Copies an stream to another stream using the buffer with specified size.\r\n        /// </summary>\r\n        /// <param name=\"source\">source stream</param>\r\n        /// <param name=\"destination\">destination stream</param>\r\n        /// <param name=\"bufferLen\">length of buffer to create</param>\r\n        /// <returns>number of bytes copied</returns>\r\n        public static long CopyTo(this Stream source, Stream destination, int bufferLen)\r\n        {\r\n            return source.CopyTo(destination, new byte[bufferLen]);\r\n        }","Stream fSource=File.OpenRead(@\"C:\\test.bin\");\r\nStream fDest=File.Create(@\"C:\\CopyOfTest.bin\");\r\nfSource.CopyTo(fDest,10*1024);"]}