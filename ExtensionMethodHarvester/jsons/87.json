{"Name":"Move FileInfo and automatically rename it","Description":"Moves a FileInfo instance to a specified path and rename it when already existing.","Author":"Peter Rietveld","SubmittedOn":"4/22/2013 9:41:51 AM","Entries":["/// <summary>\r\n/// Move current instance and rename current instance when needed\r\n/// </summary>\r\n/// <param name=\"fileInfo\">Current instance</param>\r\n/// <param name=\"destFileName\">The Path to move current instance to, which can specify a different file name</param>\r\n/// <param name=\"renameWhenExists\">Bool to specify if current instance should be renamed when exists</param>\r\npublic static void MoveTo(this FileInfo fileInfo, string destFileName, bool renameWhenExists = false)\r\n{\r\n    string newFullPath = string.Empty;\r\n\r\n    if(renameWhenExists)\r\n    {\r\n        int count = 1;\r\n\r\n        string fileNameOnly = Path.GetFileNameWithoutExtension(fileInfo.FullName);\r\n        string extension = Path.GetExtension(fileInfo.FullName);\r\n        newFullPath = Path.Combine(destFileName, fileInfo.Name);\r\n\r\n        while (File.Exists(newFullPath))\r\n        {\r\n            string tempFileName = string.Format(\"{0}({1})\", fileNameOnly, count++);\r\n            newFullPath = Path.Combine(destFileName, tempFileName + extension);\r\n        }\r\n    }\r\n\r\n    fileInfo.MoveTo(renameWhenExists ? newFullPath : destFileName);\r\n}","FileInfo fileInfo = new FileInfo(@\"c:\\test.txt\");\r\nFile.Create(fileInfo.FullName).Dispose();\r\nfileInfo.MoveTo(@\"d:\\\", true);"]}