{"Name":"TimesSelector","Description":"Inspired from ye good old ruby on rails, provides you with new DateTime instances based on an integer you provide. Look at realfiction.net -> extension methods for more detail","Author":"Frank Quednau","SubmittedOn":"3/5/2008 9:22:57 AM","Entries":["public abstract class TimeSelector {\r\n    protected TimeSpan myTimeSpan;\r\n\r\n    internal int ReferenceValue {\r\n      set { myTimeSpan = MyTimeSpan(value); }\r\n    }\r\n\r\n    public DateTime Ago { get { return DateTime.Now - myTimeSpan; } }\r\n    public DateTime FromNow { get { return DateTime.Now + myTimeSpan; } }\r\n    public DateTime AgoSince(DateTime dt) { return dt - myTimeSpan; }\r\n    public DateTime From(DateTime dt) { return dt + myTimeSpan; }\r\n    protected abstract TimeSpan MyTimeSpan(int refValue);\r\n\r\n  }\r\n\r\n  public class WeekSelector : TimeSelector {\r\n    protected override TimeSpan MyTimeSpan(int refValue) { return new TimeSpan(7 * refValue, 0, 0, 0); }\r\n  }\r\n\r\n  public class DaysSelector : TimeSelector {\r\n    protected override TimeSpan MyTimeSpan(int refValue) { return new TimeSpan(refValue, 0, 0, 0); }\r\n  }\r\n\r\n  public class YearsSelector : TimeSelector {\r\n    protected override TimeSpan MyTimeSpan(int refValue) {\r\n      return new TimeSpan(365 * refValue, 0, 0, 0);\r\n    }\r\n  }\r\n\r\npublic static class Extensions {\r\n        \r\n        public static WeekSelector Weeks(this int value) {\r\n            var ws = new WeekSelector();\r\n            ws.ReferenceValue = value;\r\n            return ws;\r\n        }\r\n\r\n        public static YearsSelector Years(this int value) {\r\n            var ws = new YearsSelector();\r\n            ws.ReferenceValue = value;\r\n            return ws;\r\n        }\r\n\r\n        public static DaysSelector Days(this int value) {\r\n            var ws = new DaysSelector();\r\n            ws.ReferenceValue = value;\r\n            return ws;\r\n        }\r\n\r\n    }","Console.WriteLine(3.Weeks().Ago);\r\nConsole.WriteLine(5.Years().FromNow);\r\nConsole.WriteLine(19.Days().From(new DateTime(2007,1,1)));"]}