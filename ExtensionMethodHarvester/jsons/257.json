{"Name":"To<> Convert","Description":"To<> Convert","Author":"Majid Safari","SubmittedOn":"8/14/2015 3:39:42 PM","Entries":["/// <summary>\r\n        /// converts one type to another\r\n        /// Example:\r\n        /// var age = \"28\";\r\n        /// var intAge = age.To<int>();\r\n        /// var doubleAge = intAge.To<double>();\r\n        /// var decimalAge = doubleAge.To<decimal>();\r\n        /// </summary>\r\n        /// <typeparam name=\"T\"></typeparam>\r\n        /// <param name=\"value\"></param>\r\n        /// <returns></returns>\r\n        public static T To<T>(this IConvertible value)\r\n        {\r\n            try\r\n            {\r\n               Type t = typeof(T);\r\n               Type u = Nullable.GetUnderlyingType(t);\r\n\r\n                if (u != null)\r\n                {\r\n                    if (value == null || value.Equals(\"\"))\r\n                        return default(T);\r\n\r\n                    return (T)Convert.ChangeType(value, u);\r\n                }\r\n                else\r\n                {\r\n                    if (value == null || value.Equals(\"\"))\r\n                        return default(T);\r\n\r\n                    return (T)Convert.ChangeType(value, t);\r\n                }\r\n            }\r\n            \r\n            catch\r\n            {\r\n                return default(T);\r\n            }\r\n        }\r\n\r\n        public static T To<T>(this IConvertible value, IConvertible ifError)\r\n        {\r\n            try\r\n            {\r\n                Type t = typeof(T);\r\n                Type u = Nullable.GetUnderlyingType(t);\r\n\r\n                if (u != null)\r\n                {\r\n                    if (value == null || value.Equals(\"\"))\r\n                        return (T) ifError;\r\n\r\n                    return (T)Convert.ChangeType(value, u);\r\n                }\r\n                else\r\n                {\r\n                    if (value == null || value.Equals(\"\"))\r\n                        return (T)(ifError.To<T>());\r\n\r\n                    return (T)Convert.ChangeType(value, t);\r\n                }\r\n            }\r\n            catch\r\n            {\r\n\r\n                return (T) ifError;\r\n            }\r\n            \r\n        }","var intAge = age.To<int>();\r\n\r\nvar para = age.To<DateTime>();"]}