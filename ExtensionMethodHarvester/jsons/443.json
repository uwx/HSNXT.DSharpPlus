{"Name":"RandomElements","Description":"Returns a number of random elements from a collection","Author":"Timmy Kokke","SubmittedOn":"3/9/2011 9:47:45 AM","Entries":["public static IEnumerable<T> RandomElements<T>(this IEnumerable<T> collection, int count = 0)\r\n{\r\n    if (count > collection.Count() || count<=0) \r\n        count = collection.Count();\r\n            \r\n    List<int> usedIndices = new List<int>();\r\n    Random random = new Random((int)DateTime.Now.Ticks);\r\n    while (count > 0)\r\n    {\r\n        int index = random.Next(collection.Count());\r\n        if (!usedIndices.Contains(index))\r\n        {\r\n            yield return collection.ElementAt(index);\r\n            usedIndices.Add(index);\r\n            count--;\r\n        }\r\n    }            \r\n}","//Get 4 random elements\r\nIEnumerable<int> seq = Enumerable.Range(1, 50);\r\nseq.RandomElements(4).ToList().ForEach(Console.WriteLine);\r\n\r\n// randomize all (note: is slow on large collection!)\r\nIEnumerable<int> seq2 = Enumerable.Range(1, 50);\r\nseq2.RandomElements().ToList().ForEach(Console.WriteLine);"]}