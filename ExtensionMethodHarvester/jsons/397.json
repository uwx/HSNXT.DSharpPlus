{"Name":"Tail","Description":"Set the stream position to the place where for example 10 lines will be returned when read to end.","Author":"smolesen","SubmittedOn":"12/29/2011 3:49:00 PM","Entries":["public static class StreamExtensions\r\n    {\r\n        /// <summary>\r\n        /// Set position to return n number of lines\r\n        /// </summary>\r\n        /// <param name=\"this\"></param>\r\n        /// <param name=\"n\">number of lines</param>\r\n        /// <returns>The stream with position set</returns>\r\n        public static Stream Tail(this Stream @this, int n)\r\n        {\r\n            if (@this.Length == 0)\r\n                return @this;\r\n            @this.Seek(0, SeekOrigin.End);\r\n            var count = 0;\r\n            while (count <= n)\r\n            {\r\n                @this.Position--;\r\n                var c = @this.ReadByte();\r\n                @this.Position--;\r\n                if (c == '\\n')\r\n                {\r\n                    ++count;\r\n                }\r\n                if (@this.Position == 0)\r\n                    break;\r\n\r\n            }\r\n            return @this;\r\n        }\r\n    }","var s = File.OpenFile(\"text.txt\");\r\ns.Tail(10);"]}